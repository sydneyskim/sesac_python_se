<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <style>
        .calculator button {
            padding: 10px;
            font-size: 18px;
            background-color: lightgrey;
            width: 80px;
            border-radius: 5px;
            border: 5px;
        }
        .calculator input {
            height: 50px;
            border-radius: 5px;
            font-size: 18px;
            grid-column: span 4;
        }
        .calculator {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-gap: 10px;
            max-width: 320px;
            margin: 0 auto;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- 계산기 메인 컨테이너 -->
    <div class="calculator">
        <!-- 결과를 표시할 입력 필드 -->
        <input type="text" id="result" readonly>
        <!-- 연산자 버튼, 클릭 시 appendOperator 함수 호출 -->
        <button onclick="appendOperator('+')">+</button>
        <button onclick="appendOperator('-')">-</button>
        <button onclick="appendOperator('*')">*</button>
        <button onclick="appendOperator('/')">/</button>
        <!-- 숫자 버튼, 클릭 시 appendNumber 함수 호출 -->
        <button onclick="appendNumber('7')">7</button>
        <button onclick="appendNumber('8')">8</button>
        <button onclick="appendNumber('9')">9</button>
        <!-- 계산 실행 버튼, 클릭 시 performCalculation 함수 호출 -->
        <button onclick="performCalculation()">=</button>
        <!-- 더 많은 숫자 버튼 -->
        <button onclick="appendNumber('4')">4</button>
        <button onclick="appendNumber('5')">5</button>
        <button onclick="appendNumber('6')">6</button>
        <!-- 입력 초기화 버튼, 클릭 시 clearResult 함수 호출 -->
        <button onclick="clearResult()">C</button>
        <button onclick="appendNumber('1')">1</button>
        <button onclick="appendNumber('2')">2</button>
        <button onclick="appendNumber('3')">3</button>
        <button onclick="appendNumber('0')">0</button>
        <script>
            // 연산자 추가 함수
            function appendOperator(operator) {
                document.getElementById("result").value += ` ${operator} `;
            }
            // 숫자 추가 함수
            function appendNumber(number) {
                document.getElementById("result").value += number;
            }
            // 결과 필드 초기화 함수
            function clearResult() {
                document.getElementById("result").value = "";
            }
            // 입력된 식 계산 함수
            function performCalculation() {
                const resultField = document.getElementById("result");
                const expression = resultField.value.split(" "); // 공백 기준으로 식 분할
                let result = parseFloat(expression[0]); // 첫 번째 숫자 파싱

                for (let i = 1; i < expression.length; i += 2) {
                    const operator = expression[i]; // 연산자
                    const nextNumber = parseFloat(expression[i + 1]); // 다음 숫자

                    // 연산자에 따른 계산 실행
                    switch (operator) {
                        case '+':
                            result += nextNumber;
                            break;
                        case '-':
                            result -= nextNumber;
                            break;
                        case '*':
                            result *= nextNumber;
                            break;
                        case '/':
                            result /= nextNumber;
                            break;
                    }
                }

                resultField.value = result; // 결과 필드 업데이트
            }
        </script>
    </div>
</body>
</html>